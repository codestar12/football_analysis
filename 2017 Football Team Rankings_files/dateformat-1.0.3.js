define(["jquery"],function(e){var a={};(function(e){var a=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];var r=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];var t=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];var i=["January","February","March","April","May","June","July","August","September","October","November","December"];var o={Jan:"01",Feb:"02",Mar:"03",Apr:"04",May:"05",Jun:"06",Jul:"07",Aug:"08",Sep:"09",Oct:"10",Nov:"11",Dec:"12"};var u=/\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}\.?\d{0,3}[Z\-+]?(\d{2}:?\d{2})?/;e.format=function(){function p(e){return'<span class="formatter-weekday">'+(a[parseInt(e,10)]||e)+"</span>"}function k(e){return'<span class="formatter-weekday  short">'+(r[parseInt(e,10)]||e)+"</span>"}function g(e){var a=parseInt(e,10)-1;return'<span class="formatter-month  short">'+(t[a]||e)+"</span>"}function M(e){var a=parseInt(e,10)-1;return'<span class="formatter-month">'+(i[a]||e)+"</span>"}function n(e){return o[e]||e}function s(e){var a=e,r,t,n,s="",i,o;if(a.indexOf(".")!==-1){i=a.split(".");a=i[0];s=i[i.length-1]}o=a.split(":");if(o.length===3){r=o[0];t=o[1];n=o[2].replace(/\s.+/,"").replace(/[a-z]/gi,"");a=a.replace(/\s.+/,"").replace(/[a-z]/gi,"");return{time:a,hour:r,minute:t,second:n,millis:s}}return{time:"",hour:"",minute:"",second:"",millis:""}}function v(e,a){var r=a-String(e).length;for(var t=0;t<r;t++){e="0"+e}return e}return{parseDate:function(e){var a,r;var t={date:null,year:null,month:null,dayOfMonth:null,dayOfWeek:null,time:null};if(typeof e=="number"){return this.parseDate(new Date(e))}else if(typeof e.getFullYear=="function"){t.year=String(e.getFullYear());t.month=String(e.getMonth()+1);t.dayOfMonth=String(e.getDate());t.time=s(e.toTimeString()+"."+e.getMilliseconds())}else if(e.search(u)!=-1){a=e.split(/[T\+-]/);t.year=a[0];t.month=a[1];t.dayOfMonth=a[2];t.time=s(a[3].split(".")[0])}else{a=e.split(" ");if(a.length===6&&isNaN(a[5])){a[a.length]="()"}switch(a.length){case 6:t.year=a[5];t.month=n(a[1]);t.dayOfMonth=a[2];t.time=s(a[3]);break;case 2:r=a[0].split("-");t.year=r[0];t.month=r[1];t.dayOfMonth=r[2];t.time=s(a[1]);break;case 7:case 9:case 10:t.year=a[3];t.month=n(a[1]);t.dayOfMonth=a[2];t.time=s(a[4]);break;case 1:r=a[0].split("");t.year=r[0]+r[1]+r[2]+r[3];t.month=r[5]+r[6];t.dayOfMonth=r[8]+r[9];t.time=s(r[13]+r[14]+r[15]+r[16]+r[17]+r[18]+r[19]+r[20]);break;default:return null}}if(t.time){t.date=new Date(t.year,t.month-1,t.dayOfMonth,t.time.hour,t.time.minute,t.time.second,t.time.millis)}else{t.date=new Date(t.year,t.month-1,t.dayOfMonth)}t.dayOfWeek=String(t.date.getDay());return t},date:function(a,e){try{var r=this.parseDate(a);if(r===null){return a}var t=r.year,n=r.month,s=r.dayOfMonth,i=r.dayOfWeek,o=r.time;var u;var f="",l="",c="",h=false;for(var m=0;m<e.length;m++){var y=e.charAt(m);var d=e.charAt(m+1);if(h){if(y=="'"){l+=f===""?"'":f;f="";h=false}else{f+=y}continue}f+=y;c="";switch(f){case"ddd":l+=p(i);f="";break;case"dd":if(d==="d"){break}l+=v(s,2);f="";break;case"d":if(d==="d"){break}l+=parseInt(s,10);f="";break;case"D":if(s==1||s==21||s==31){s=parseInt(s,10)+"st"}else if(s==2||s==22){s=parseInt(s,10)+"nd"}else if(s==3||s==23){s=parseInt(s,10)+"rd"}else{s=parseInt(s,10)+"th"}l+=s;f="";break;case"MMMM":l+=M(n);f="";break;case"MMM":if(d==="M"){break}l+=g(n);f="";break;case"MM":if(d==="M"){break}l+=v(n,2);f="";break;case"M":if(d==="M"){break}l+=parseInt(n,10);f="";break;case"y":case"yyy":if(d==="y"){break}l+=f;f="";break;case"yy":if(d==="y"){break}l+=String(t).slice(-2);f="";break;case"yyyy":l+=t;f="";break;case"HH":l+=v(o.hour,2);f="";break;case"H":if(d==="H"){break}l+=parseInt(o.hour,10);f="";break;case"hh":u=parseInt(o.hour,10)===0?12:o.hour<13?o.hour:o.hour-12;l+=v(u,2);f="";break;case"h":if(d==="h"){break}u=parseInt(o.hour,10)===0?12:o.hour<13?o.hour:o.hour-12;l+=parseInt(u,10);f="";break;case"mm":l+=v(o.minute,2);f="";break;case"m":if(d==="m"){break}l+=o.minute;f="";break;case"ss":l+=v(o.second.substring(0,2),2);f="";break;case"s":if(d==="s"){break}l+=o.second;f="";break;case"S":case"SS":if(d==="S"){break}l+=f;f="";break;case"SSS":var b="000"+o.millis.substring(0,3);l+=b.substring(b.length-3);f="";break;case"a":l+='<span class="formatter-period">';l+=o.hour>=12?"PM":"AM";l+="</span>";f="";break;case"A":l+=o.hour>=12?"P":"A";f="";break;case"p":l+=o.hour>=12?"p.m.":"a.m.";f="";break;case"E":l+=k(i);f="";break;case"'":f="";h=true;break;default:l+=y;f="";break}}l+=c;return'<span class="formatter">'+l+"</span>"}catch(e){if(console&&console.log){console.log(e)}return a}},prettyDate:function(e){var a;var r;var t;if(typeof e==="string"||typeof e==="number"){a=new Date(e)}if(typeof e==="object"){a=new Date(e.toString())}r=((new Date).getTime()-a.getTime())/1e3;t=Math.floor(r/86400);if(isNaN(t)||t<0){return}if(r<60){return"just now"}else if(r<120){return"1 minute ago"}else if(r<3600){return Math.floor(r/60)+" minutes ago"}else if(r<7200){return"1 hour ago"}else if(r<86400){return Math.floor(r/3600)+" hours ago"}else if(t===1){return"Yesterday"}else if(t<7){return t+" days ago"}else if(t<31){return Math.ceil(t/7)+" weeks ago"}else if(t>=31){return"more than 5 weeks ago"}},toBrowserTimeZone:function(e,a){return this.date(new Date(e),a||"MM/dd/yyyy HH:mm:ss")}}}()})(a);(function(e){e.format=a.format})(e);return a});