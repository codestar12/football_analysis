define(["jquery","module","version!fly/utils/string-helper","version!fly/utils/url-helper","version!fly/managers/cookie"],function(n,e,o,r,i){var t,a={},l={queryParam:"jsDebug",cookie:{name:"fly_js_debug",domain:"default"}},s=false,u,c,f=function(e,n){return Math.floor(Math.random()*(n-e+1))+e};n.extend(l,e.config());u=r.getParamAsArray(l.queryParam);if(u){i.set(l.cookie.name,u,{path:"/",domain:l.cookie.domain})}else{c=i.get(l.cookie.name)||[]}if(n.inArray("true",u)>-1||n.inArray("all",u)>-1){i.set(l.cookie.name,true,{path:"/",domain:l.cookie.domain});s=true}t=function(e){this.name=e;this.color="hsl("+f(0,360)+","+f(35,80)+"%,"+f(20,45)+"%)";if(c===true||n.inArray(this.name,u)>-1||n.inArray(this.name,c)>-1){this.enable()}};t.prototype={constructor:t,enabled:false,log:function(){var e=arguments,n;if(!window.console||!this.enabled&&!s)return;e.callee=e.callee.caller;n=[].slice.call(e);n.unshift("%c "+this.name+" ","color:#fff;border-radius:3px;background-color:"+this.color+";");if(typeof console.log==="object"){}else{console.log.apply(console,n)}return this},enable:function(){this.enabled=true;return this},disable:function(){this.enabled=false;return this}};return{init:function(e){var n=new t(e);a[e]=n;return n},get:function(e){return a[e]||this.init(e)}}});