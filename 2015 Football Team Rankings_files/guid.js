define(["jquery","libs/debug","version!fly/utils/guid","managers/page-vars"],function(e,i,g,u){var t=i.get("guid");t.log("guid");return{getViewGuid:function(){t.log("getViewGuid");return u.guid},resetViewGuid:function(e){t.log("resetViewGuid");var i=u.guid;t.log("oldGuid: "+i);if(typeof e!=="string"){e=this.generateGuid();t.log("newGuid: "+e)}u.guid=e;u.ads.data.gpt.targeting.vguid=e;utag_data.pageViewGuid=e;u.tracking.data.pageViewGuid=e;t.log("View guid updated from "+i+" to "+e)},generateGuid:function(){t.log("generateGuid");return g.generate()}}});