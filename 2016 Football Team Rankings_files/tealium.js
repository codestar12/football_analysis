define(["jquery","libs/debug","managers/page-vars","tealium"],function(g,t,n){debug=t.init("tealium");debug.log("tealium");return{trackSocial:function(t){debug.log("trackSocial");var e={wd:"socialbutton",wdloc:"sharebar",ssite:t&&t.socialService?t.socialService:""};this._trackClickViaUtag("om","trackSocialClick","trackSocialClick",t,e)},trackPageLoad:function(t){debug.log("trackPageLoad");try{if(n.tracking.enabled===true){t=typeof t==="undefined"?{}:t;utag.view(t);debug.log("Track view: ",t)}else{debug.log("Event tracking aborted; tracking is not enabled!")}}catch(t){debug.log("Page load tracking failed:",t)}},trackCustomEvent:function(t,e,a){debug.log("trackCustomEvent");var i={link_text:t,_clickAction:a?a:t,_noLinkTrack:"LEVT",_test:n.tracking.data.testName?n.tracking.data.testName+"|"+n.tracking.data.testVersion+"|"+n.tracking.data.testGroup:""};this._trackClickViaUtag("utag","link",t,e,i)},_trackClickViaUtag:function(t,e,a,i,c){debug.log("_trackClickViaUtag");try{if(n.tracking.enabled===true){c=typeof c!=="object"?{}:c;i=typeof i!=="object"?c:g.extend({},c,i);if(g.inArray(t,["om","omnitureMgr","utag"])>=0){window[t][e](i);if(typeof window.s=="object"){window.s.events=""}debug.log(a+" ping: ",i)}else{debug.log("Invalid tracking object",t)}}else{debug.log(a+" aborted; tracking is not enabled!")}}catch(t){debug.log(a+" failed:",t)}},init:function(t){debug.log("init");debug.log(t);if(n.tracking.enabled===true){n.tracking.data=t;utag_data=t;debug.log("Load tracking data: ",t)}else{debug.log("Initialization aborted; tracking is not enabled!")}},setPageValue:function(t,e){debug.log("setPageValue");this[t]=e;utag_data[t]=e;n.tracking.data[t]=e},setPageValues:function(t){debug.log("setPageValues");g.extend(utag_data,t);g.extend(n.tracking.data,t)},getTrackingData:function(){debug.log("getTrackingData");return n.tracking.enabled===true?n.tracking.data:{}},_getUdoStockData:function(){debug.log("_getUdoStockData");var t=n.tracking.data;return{pageViewGuid:t.pageViewGuid,pageType:t.pageType,siteHier:t.siteHier,siteType:t.siteType,deviceType:t.deviceType,articleId:t.articleId,articleTitle:t.articleTitle,articleType:t.articleType,articlePubDate:t.articlePubDate,articleAuthorId:t.articleAuthorId,articleAuthorName:t.articleAuthorName,topicId:t.topicId,topicName:t.topicName}}}});